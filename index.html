<!DOCTYPE>
<html>
	<head>
		<script type="text/javascript" src="src/Tools.js"></script>
		<script type="text/javascript" src="src/Keyboard.js"></script>
		<script type="text/javascript" src="src/Player.js"></script>
	</head>
	<body>
		<div id="fps-counter"></div>
		<canvas id="canvas" width="400" height="400"></canvas>
		<script>
			var canvas = $('canvas');
			var ctx = canvas.getContext('2d');

			requestAnimFrame = (function(w) {
				return  w.requestAnimationFrame ||
				 w.webkitRequestAnimationFrame ||
				 w.mozRequestAnimationFrame ||
				 w.oRequestAnimationFrame ||
				 w.msRequestAnimationFrame ||
				 function(c,e) {
					w.setTimeout(c, 100/6);
				 };
			})(window);

			window.run = function() {
				update();
				draw();
				calculateFPS();
				requestAnimFrame(run);
			}

			window.update = function() {
				player.update();
			}

			window.draw = function() {
				drawRect(ctx, "rgba(255,255,255,1)", 0, 0, $('canvas').width, $('canvas').height);
				player.render(ctx);
			}

			player = new Player();
			run();
		</script>
	</body>
</html>